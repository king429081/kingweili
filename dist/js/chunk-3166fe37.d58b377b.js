(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3166fe37"],{"0fa7":function(e,t,n){"use strict";var o=n("da81"),i=n.n(o);i.a},"188b":function(e,t,n){"use strict";var o=n("1cf0"),i=n.n(o);i.a},"1cf0":function(e,t,n){},b640:function(e,t,n){e.exports=n.p+"img/logo.87ab03f8.jpg"},da81:function(e,t,n){},dd7b:function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"app"}},[o("img",{attrs:{src:n("b640"),alt:""}}),o("InputGroup",{attrs:{type:"number",placeholder:"手机号",btnTitle:e.btnTitle,disabled:e.disabled,error:e.errors.phone},on:{btnClick:e.getVerufycode},model:{value:e.phone,callback:function(t){e.phone=t},expression:"phone"}}),o("InputGroup",{attrs:{type:"number",disabled:e.disabled},model:{value:e.verifyCode,callback:function(t){e.verifyCode=t},expression:"verifyCode"}}),o("button",{staticClass:"admin",attrs:{disabled:e.isClick},on:{click:e.handleLogin}},[e._v("登录")])],1)},i=[],r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"text_group"}},[n("div",{attrs:{id:"input_group"}},[n("input",{attrs:{type:e.type,placeholder:e.placeholder},domProps:{value:e.value},on:{input:function(t){return e.$emit("input",t.target.value)}}}),e.btnTitle?n("button",{attrs:{disabled:e.disabled},on:{click:function(t){return e.$emit("btnClick")}}},[e._v(e._s(e.btnTitle))]):e._e()]),e.error?n("div",[e._v(e._s(e.error))]):e._e()])},s=[],a={name:"inputGroup",props:{type:{type:String,default:"text"},value:String,placeholder:String,btnTitle:String,disabled:Boolean,error:String}},l=a,c=(n("0fa7"),n("2877")),d=Object(c["a"])(l,r,s,!1,null,"5ca166a2",null),u=d.exports,p={name:"login",data:function(){return{phone:"",verifyCode:"",btnTitle:"获取验证码",disabled:!1,errors:{}}},components:{InputGroup:u},methods:{validatePhoen:function(){return console.log("......"),this.phone?/^1[345678]\d{9}$/.test(this.phone)?(this.errors={},!0):(this.errors={phone:"手机号不合法"},!1):(this.errors={phone:"手机号不能为空"},!1)},validateBtn:function(){var e=this,t=60,n=setInterval((function(){0==t?(clearInterval(n),e.btnTitle="获取验证码",e.disabled=!1):(e.btnTitle=t+"秒后重试",e.disabled=!0,t--)}),1e3)},getVerufycode:function(){this.validatePhoen()&&(this.validateBtn(),console.log("..."),this.$axios.post("/api/posts/sms_send",{tpl_id:"213063",key:"f29c1f363af00744e8232303eda2644e",phone:this.phone}).then((function(e){console.log(e)})))},handleLogin:function(){var e=this;this.errors={},this.$axios.post("/api/posts/sms_back",{phone:this.phone,code:this.verifyCode}).then((function(t){localStorage.setItem("ele_login",!0),e.$router.push("/")})).catch((function(t){e.errors={code:t.resphonse.data.msg},console.log(t)}))}},computed:{isClick:function(){return!this.phone||!this.verifyCode}}},h=p,f=(n("188b"),Object(c["a"])(h,o,i,!1,null,"f2e282be",null));t["default"]=f.exports}}]);
//# sourceMappingURL=chunk-3166fe37.d58b377b.js.map